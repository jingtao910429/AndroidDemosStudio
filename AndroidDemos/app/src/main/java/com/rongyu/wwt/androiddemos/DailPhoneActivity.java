package com.rongyu.wwt.androiddemos;import android.content.Intent;import android.net.Uri;import android.os.Bundle;import android.support.design.widget.FloatingActionButton;import android.support.design.widget.Snackbar;import android.support.v7.app.AppCompatActivity;import android.support.v7.widget.Toolbar;import android.view.View;import android.view.Menu;import android.view.MenuItem;import android.widget.Button;import android.widget.EditText;import android.widget.Toast;public class DailPhoneActivity extends AppCompatActivity implements View.OnClickListener{    private EditText dailEditText ;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_dail_phone);        //toolBar        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);        setSupportActionBar(toolbar);        FloatingActionButton fab = (FloatingActionButton) findViewById(R.id.fab);        fab.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View view) {                Snackbar.make(view, "Replace with your own action", Snackbar.LENGTH_LONG)                        .setAction("Action", null).show();            }        });        dailEditText = (EditText)findViewById(R.id.ed_dail_phone);        Button dailBtn = (Button)findViewById(R.id.btn_dail_phone);        //数据存储按钮事件        Button storeBtn = (Button)findViewById(R.id.store_data);        //点击事件四种方法        //1创建一个内部类定义点击事件        //dailBtn.setOnClickListener(new MyClickListener());        /*        //2采用匿名内部类创建点击事件        dailBtn.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                callPhone();            }        });        */        //3实现接口(最常用)        dailBtn.setOnClickListener(this);        storeBtn.setOnClickListener(this);        //4配置在xml中        Button jumpBtn = (Button)findViewById(R.id.jump_btn);        jumpBtn.setOnClickListener(this);    }    @Override    public boolean onCreateOptionsMenu(Menu menu) {        // Inflate the menu; this adds items to the action bar if it is present.        getMenuInflater().inflate(R.menu.menu_dail_phone, menu);        return true;    }    @Override    public boolean onOptionsItemSelected(MenuItem item) {        // Handle action bar item clicks here. The action bar will        // automatically handle clicks on the Home/Up button, so long        // as you specify a parent activity in AndroidManifest.xml.        int id = item.getItemId();        //noinspection SimplifiableIfStatement        if (id == R.id.action_settings) {            return true;        }        return super.onOptionsItemSelected(item);    }    @Override    public void onClick(View v) {        switch (v.getId()){            case R.id.btn_dail_phone:                callPhone();                break;            case R.id.jump_btn:                jumpActivity();                break;            case R.id.store_data:                jumpToFileSaveToMemoryActivity();                break;            default:                break;        }    }    //1 inner class    public class MyClickListener implements View.OnClickListener{        @Override        public void onClick(View v) {            callPhone();        }    }    //private method    private void callPhone() {        String contentStr = dailEditText.getText().toString().trim();        if (contentStr == null || 0 == contentStr.length()){            Toast.makeText(DailPhoneActivity.this, "电话号码不能为空", Toast.LENGTH_SHORT).show();            return;        }        try {            //设置activity意图（打电话）            Intent dail_intent = new Intent();            dail_intent.setAction(Intent.ACTION_CALL);            //格式不正确报异常            dail_intent.setData(Uri.parse("tel:" + contentStr));            startActivity(dail_intent);        }catch (Exception e){            //如果没有打电话权限则提示，防止崩溃            Toast.makeText(DailPhoneActivity.this,"没有此功能权限",Toast.LENGTH_LONG).show();        }finally {        }    }    //activity jump    private void jumpActivity() {        Intent jumpIntent = new Intent(DailPhoneActivity.this,SMSActivity.class);        startActivity(jumpIntent);    }    //跳转数据存储activity    private void jumpToFileSaveToMemoryActivity() {        Intent fileSaveIntent = new Intent(DailPhoneActivity.this,FileSaveToMemoryActivity.class);        startActivity(fileSaveIntent);    }}